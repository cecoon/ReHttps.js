!function(){var a=window.localStorage,b=window.location,c="ReHttpsJs",d=function(){try{return"localStorage"in window&&null!==a}catch(b){return!1}},e=function(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4==this.readyState&&200==this.status&&b()},c.open("HEAD",h),c.send()},f=function(b,d){e(b,function(){a.setItem(c,!0),d()},function(){a.setItem(c,!1)})},g=function(b,g){var h=d();if(h){var i=a.getItem(c);null===i?f(b,g):i&&g()}else e(b,g)};if("http:"===b.protocol){var h="https:"+b.href.substring(b.protocol.length);g(h,function(){window.location.href=h})}}();